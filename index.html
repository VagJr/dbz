<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UNIVERSE Z: EVOLUTION</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Bangers&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nipplejs/0.10.1/nipplejs.min.js"></script>

    <style>
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: #000; overflow: hidden; 
            font-family: 'Orbitron', sans-serif; 
            color: #fff; user-select: none; touch-action: none;
        }

        canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }

        /* TELA DE LOGIN */
        #login-screen { 
            position: fixed; width: 100%; height: 100%; 
            background: radial-gradient(circle at center, #1a0500 0%, #000000 90%);
            z-index: 2000; display: flex; align-items: center; 
            justify-content: center; flex-direction: column;
        }
        .login-box { 
            background: rgba(0, 0, 0, 0.85); border: 2px solid #ffaa00; 
            box-shadow: 0 0 30px rgba(255, 100, 0, 0.3); padding: 40px; 
            border-radius: 12px; text-align: center; width: 90%; max-width: 350px;
        }
        h1 { font-family: 'Bangers', cursive; color: #ffcc00; font-size: 48px; margin: 0 0 20px 0; letter-spacing: 2px; text-shadow: 4px 4px 0 #882200; }
        input { 
            width: 100%; padding: 12px; margin: 10px 0; background: #fff; 
            border: none; border-radius: 4px; font-family: 'Orbitron', sans-serif; 
            font-weight: bold; text-align: center; box-sizing: border-box; font-size: 18px;
        }
        #btn-login { 
            width: 100%; padding: 15px; margin-top: 15px;
            background: linear-gradient(to bottom, #ff6600, #cc2200); 
            color: #fff; border: none; cursor: pointer; font-family: 'Bangers', cursive; 
            font-size: 24px; text-transform: uppercase; border-radius: 4px;
            box-shadow: 0 4px 0 #882200;
        }
        #btn-login:active { transform: translateY(4px); box-shadow: none; }

        /* UI DO JOGO */
        #ui { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; pointer-events: none; display: none; }

        /* CONTROLES MOBILE */
        #mobile-ui { display: none; pointer-events: auto; width: 100%; height: 100%; }
        #joystick-container { position: absolute; bottom: 50px; left: 50px; width: 120px; height: 120px; z-index: 300; }
        .m-btn {
            position: absolute; display: flex; align-items: center; justify-content: center;
            border-radius: 50%; color: #fff; font-weight: bold; font-family: 'Bangers', cursive;
            user-select: none; box-shadow: 0 4px 6px rgba(0,0,0,0.5);
            background: rgba(255, 255, 255, 0.15); border: 2px solid rgba(255,255,255,0.4);
            backdrop-filter: blur(4px);
        }
        .m-btn:active { transform: scale(0.9); background: rgba(255, 255, 255, 0.3); }

        #btn-atk { width: 85px; height: 85px; bottom: 40px; right: 30px; background: rgba(255, 50, 50, 0.3); border-color: #ff4444; font-size: 22px; }
        #btn-block { width: 55px; height: 55px; bottom: 40px; right: 130px; font-size: 14px; background: rgba(50, 50, 255, 0.3); border-color: #4444ff; }
        #btn-blast { width: 60px; height: 60px; bottom: 140px; right: 40px; font-size: 14px; background: rgba(0, 255, 255, 0.3); border-color: #00ffff; }
        #btn-charge { width: 55px; height: 55px; bottom: 120px; right: 115px; font-size: 14px; background: rgba(255, 255, 0, 0.3); border-color: #ffff00; color: #ffff00; }
        #btn-vanish { width: 45px; height: 45px; bottom: 190px; right: 110px; font-size: 12px; border-style: dashed; }
        #btn-transform { width: 45px; height: 45px; bottom: 210px; right: 40px; font-size: 10px; border-color: #ffaa00; color: #ffaa00; }

        .sys-btn {
            position: absolute; width: 40px; height: 40px; right: 10px;
            background: rgba(0,0,0,0.6); border: 1px solid #555; color: #fff; 
            font-size: 18px; border-radius: 8px; display: flex; align-items: center; justify-content: center; pointer-events: auto;
        }
        #btn-scouter { top: 10px; color: #0f0; border-color: #0f0; }
        #btn-pvp { top: 60px; color: #f0f; border-color: #f0f; }
        #btn-pvp.active { background: #f0f; color: #fff; }

        .menu-btn {
            position: absolute; left: 10px; width: 40px; height: 40px;
            background: rgba(0,0,0,0.5); border: 1px solid #aaa;
            border-radius: 4px; color: #fff; pointer-events: auto;
        }
        #btn-menu { top: 120px; font-size: 10px; }
        #btn-chat { top: 170px; font-size: 20px; }
        #btn-ranking { top: 220px; font-size: 20px; color: #fe0; }
        #btn-guild { top: 270px; font-size: 20px; color: #0ff; }
        #btn-rebirth { top: 320px; font-size: 20px; color: #f00; }

    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h1>UNIVERSE Z</h1>
            <input id="username" type="text" placeholder="GUERREIRO" maxlength="12" autocomplete="off">
            <input id="password" type="password" placeholder="SENHA">
            <button id="btn-login">ENTRAR</button>
        </div>
    </div>

    <canvas id="gameCanvas"></canvas>

    <div id="ui">
        <div id="mobile-ui">
            <div id="joystick-container"></div>
            <div id="btn-atk" class="m-btn">SOCAR</div>
            <div id="btn-blast" class="m-btn">KI</div>
            <div id="btn-block" class="m-btn">DEF</div>
            <div id="btn-charge" class="m-btn">CARGA</div>
            <div id="btn-vanish" class="m-btn">TP</div>
            <div id="btn-transform" class="m-btn">FORM</div>

            <div id="btn-scouter" class="sys-btn">üëÅÔ∏è</div>
            <div id="btn-pvp" class="sys-btn">‚öîÔ∏è</div>

            <button id="btn-menu" class="menu-btn">MENU</button>
            <button id="btn-chat" class="menu-btn">üí¨</button>
            <button id="btn-ranking" class="menu-btn">üèÜ</button>
            <button id="btn-guild" class="menu-btn">üë•</button>
            <button id="btn-rebirth" class="menu-btn">‚ôªÔ∏è</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        // Detec√ß√£o Mobile
        if (navigator.maxTouchPoints > 0 || /Android|iPhone/i.test(navigator.userAgent)) {
            document.getElementById('mobile-ui').style.display = 'block';
        }
    </script>
    <script type="module" src="./game.js"></script>

</body>
</html>